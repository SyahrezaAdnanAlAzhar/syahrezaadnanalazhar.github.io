---
interface Props {
  name: string;
  icon: string;
  category?: 'language' | 'framework' | 'database' | 'tool' | 'other';
  class?: string;
}

const { name, icon, category, class: className = '' } = Astro.props;

const categoryColors = {
  language: 'border-blue-500/30 bg-blue-500/10 text-blue-400',
  framework: 'border-green-500/30 bg-green-500/10 text-green-400',
  database: 'border-purple-500/30 bg-purple-500/10 text-purple-400',
  tool: 'border-[var(--color-accent)]/30 bg-[var(--color-accent)]/10 text-[var(--color-accent)]',
  other: 'border-white/20 bg-white/5 text-white/70'
};

const colorClass = category ? categoryColors[category] : categoryColors.other;
const base = import.meta.env.BASE_URL;
const baseUrl = base.endsWith('/') ? base : `${base}/`;
---

<div class={`
  group relative p-4 rounded-lg border backdrop-blur-sm
  transition-all duration-300
  hover:scale-105 hover:shadow-[0_0_20px_rgba(255,230,31,0.3)]
  ${colorClass}
  ${className}
`}>
  <!-- Icon -->
  <div class="flex flex-col items-center gap-3">
    <img 
      src={`${baseUrl}${icon}`} 
      alt={`${name} icon`}
      class="w-12 h-12 object-contain transition-transform duration-300 group-hover:scale-110"
      loading="lazy"
    />
    
    <!-- Name -->
    <span class="text-sm font-medium text-center">
      {name}
    </span>
  </div>

  <!-- Category Badge (appears on hover on desktop) -->
  {category && (
    <div class="absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">
      <span class="px-2 py-1 text-xs rounded-full bg-black/90 border border-current uppercase font-semibold whitespace-nowrap">
        {category}
      </span>
    </div>
  )}
</div>
